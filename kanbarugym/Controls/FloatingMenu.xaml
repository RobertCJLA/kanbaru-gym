<?xml version="1.0" encoding="utf-8" ?>
<ContentView xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
 xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
 x:Class="kanbarugym.Views.Controls.FloatingMenu"
 x:Name="This"
 IsVisible="{Binding IsOpen, Source={x:Reference This}}"
 HorizontalOptions="Fill" VerticalOptions="Fill">
	<Grid x:Name="OverlayRoot"
	BackgroundColor="Transparent"
	HorizontalOptions="Fill" VerticalOptions="Fill"
	ZIndex="1000">
		<!-- Outside tap capture -->
		<BoxView x:Name="OutsideTapCatcher"
		BackgroundColor="Transparent"
		InputTransparent="False">
			<BoxView.GestureRecognizers>
				<TapGestureRecognizer Tapped="OnOutsideTapped" />
			</BoxView.GestureRecognizers>
		</BoxView>

		<!-- Menu panel positioned via TranslationX/Y -->
		<Border x:Name="MenuPanel"
		AutomationId="MenuBorder"
		HorizontalOptions="Start"
		VerticalOptions="Start"
		Margin="0"
		BackgroundColor="#0595EC"
		Stroke="#80FFFFFF"
		StrokeThickness="1"
		Padding="10"
		Opacity="0"
		Scale="0.90"
		AnchorX="0"
		AnchorY="0"
		InputTransparent="False"
		ZIndex="1001">
			<Border.StrokeShape>
				<RoundRectangle CornerRadius="10" />
			</Border.StrokeShape>
			<Border.Shadow>
				<Shadow Brush="Black" Opacity="0.35" Offset="0,4" Radius="10" />
			</Border.Shadow>

			<Grid RowDefinitions="Auto,Auto" ColumnDefinitions="Auto,*" ColumnSpacing="8" RowSpacing="10">
				<Image Source="edit.png" WidthRequest="20" HeightRequest="20" VerticalOptions="Center" Grid.Row="0" Grid.Column="0" />
				<Label Text="{Binding EditText, Source={x:Reference This}}" TextColor="White" FontSize="18" VerticalOptions="Center" Grid.Row="0" Grid.Column="1">
					<Label.GestureRecognizers>
						<TapGestureRecognizer Tapped="OnEditTapped" />
					</Label.GestureRecognizers>
				</Label>

				<Image Source="delete_person.png" WidthRequest="20" HeightRequest="20" VerticalOptions="Center" Grid.Row="1" Grid.Column="0" />
				<Label Text="{Binding DeleteText, Source={x:Reference This}}" TextColor="White" FontSize="18" VerticalOptions="Center" Grid.Row="1" Grid.Column="1">
					<Label.GestureRecognizers>
						<TapGestureRecognizer Tapped="OnDeleteTapped" />
					</Label.GestureRecognizers>
				</Label>
			</Grid>
		</Border>
	</Grid>
</ContentView>